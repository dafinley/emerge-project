import React, { Component } from "react";
import PropTypes from "prop-types";
// var SelectBox = React.createFactory(require('../lib/select-box'))

import {
  Card,
  CardHeader,
  ListGroup,
  ListGroupItem,
  Row,
  Col,
  Form,
  FormGroup,
  FormInput,
  FormSelect,
  FormTextarea,
  Button
} from "shards-react";


export default class UserAccountDetails extends Component {
// const UserAccountDetails = ({ title }) => (
  state = {
    title: "",
    firstName: "",
    lastName: "",
    email: "",
    password: "",
    address: "",
    state: "",
    city: "",
    zipCode: "",
    description: "",
    sponser: "",
  }

  handleClick = (e) => {
    e.preventDefault()
    let userData = localStorage.getItem('user')
    if(!userData || !userData.length)
    {
      userData = [];
    }
    else 
    {
      userData = JSON.parse(userData);
    }

    let data = {
      firstName: this.state.firstName,
      lastName: this.state.lastName,
      email: this.state.email,
      address: this.state.address,
      state: this.state.state,
      city: this.state.city,
      zipCode: this.state.city,
      sponser: this.state.sponser 
    }
    userData.push(data);
    localStorage.setItem('user', JSON.stringify(userData));
  }

  render() {
    return (
      <Card small className="mb-4">
        <CardHeader className="border-bottom">
          <h6 className="m-0">{this.state.title}</h6>
        </CardHeader>
        <ListGroup flush>
          <ListGroupItem className="p-3">
            <Row>
              <Col>
                <Form>
                  <Row form>
                    {/* First Name */}
                    <Col md="6" className="form-group">
                      <label htmlFor="feFirstName">First Name</label>
                      <FormInput
                        id="feFirstName"
                        placeholder="First Name"
                        value={this.state.firstName} // setting the value for firstName in the state
                        onChange={(event) => {this.setState({firstName: event.target.value})}} // changes the original value of firstName inside the state
                      />

                    </Col>
                    {/* Last Name */}
                    <Col md="6" className="form-group">
                      <label htmlFor="feLastName">Last Name</label>
                      <FormInput
                        id="feLastName"
                        placeholder="Last Name"
                        value={this.state.lastName}
                        onChange={(event) => {this.setState({lastName: event.target.value})}}
                      />
                    </Col>
                  </Row>
                  <Row form>
                    {/* Email */}
                    <Col md="12" className="form-group">
                      <label htmlFor="feEmail">Email</label>
                      <FormInput
                        type="email"
                        id="feEmail"
                        placeholder="Email Address"
                        value={this.state.email}
                        onChange={(event) => {this.setState({email: event.target.value})}}
                        autoComplete="email"
                      />
                    </Col>
                    {/* Password */}
                    {/* <Col md="6" className="form-group">
                      <label htmlFor="fePassword">Password</label>
                      <FormInput
                        type="password"
                        id="fePassword"
                        placeholder="Password"
                        value={this.state.password}
                        onChange={(event) => {this.setState({password: event.target.value})}}
                        autoComplete="current-password"
                      />
                    </Col> */}
                  </Row>
                  {/* Address */}
                  <FormGroup>
                    <label htmlFor="feAddress">Address</label>
                    <FormInput
                      id="feAddress"
                      placeholder="Address"
                      value={this.state.address}
                      onChange={(event) => {this.setState({address: event.target.value})}}
                    />
                  </FormGroup>
                  <Row form>
                    {/* City */}
                    <Col md="6" className="form-group">
                      <label htmlFor="feCity">City</label>
                      <FormInput
                        id="feCity"
                        value={this.state.city}
                        onChange={(event) => {this.setState({city: event.target.value})}}
                      />
                    </Col>
                    {/* State */}
                    <Col md="4" className="form-group">
                      <label htmlFor="feInputState">State</label>
                      <FormSelect 
                        id="feInputState" 
                        value={this.state.state}
                        onChange={(event) => {this.setState({state: event.target.value})}}
                      >
                        <option>Choose one...</option>
                        <option>AL</option>
                        <option>AK</option>
                        <option>AZ</option>
                        <option>AR</option>
                        <option>CA</option>
                        <option>CO</option>
                        <option>CT</option>
                        <option>DE</option>
                        <option>DC</option>
                        <option>FL</option>
                        <option>GA</option>
                        <option>HI</option>
                        <option>ID</option>
                        <option>IL</option>
                        <option>IN</option>
                        <option>IA</option>
                        <option>KS</option>
                        <option>KY</option>
                        <option>LA</option>
                        <option>ME</option>
                        <option>MD</option>
                        <option>MA</option>
                        <option>MI</option>
                        <option>MN</option>
                        <option>MS</option>
                        <option>MO</option>
                        <option>MT</option>
                        <option>NE</option>
                        <option>NV</option>
                        <option>NH</option>
                        <option>NJ</option>
                        <option>NM</option>
                        <option>NY</option>
                        <option>NC</option>
                        <option>ND</option>
                        <option>OH</option>
                        <option>OK</option>
                        <option>OR</option>
                        <option>PA</option>
                        <option>RI</option>
                        <option>SC</option>
                        <option>SD</option>
                        <option>TN</option>
                        <option>TX</option>
                        <option>UT</option>
                        <option>VT</option>
                        <option>VA</option>
                        <option>WA</option>
                        <option>WV</option>
                        <option>WI</option>
                        <option>WY</option>
                      </FormSelect>
                    </Col>
                    {/* Zip Code */}
                    <Col md="2" className="form-group">
                      <label htmlFor="feZipCode">Zip</label>
                      <FormInput
                        id="feZipCode"
                        value={this.state.zipCode}
                        onChange={(event) => {this.setState({zipCode: event.target.value})}}
                      />
                    </Col>
                  </Row>
                  <Row form>
                    {/* Description */}
                    <Col md="12" className="form-group">
                      <label htmlFor="feDescription">Description</label>
                      <FormTextarea id="feDescription" rows="5" />
                    </Col>
                  </Row>
                  <Row form>
                    {/* Sponser */}
                    <Col md="12" className="form-group">
                      <label htmlFor="feSponser">Sponser</label>
                      <FormInput 
                        id="feSponser"
                        value={this.state.sponser}
                        onChange={(event) => {this.setState({sponser: event.target.value})}} 
                      />
                    </Col>
                  </Row>
                  <Button onClick={(e) => this.handleClick(e)} theme="accent">Update Account</Button>
                  {/*onClick={(e) => window.localStorage.setItem('name', {this.state.})}*/}
                </Form>
              </Col>
            </Row>
          </ListGroupItem>
        </ListGroup>
      </Card>
    );
  }
}